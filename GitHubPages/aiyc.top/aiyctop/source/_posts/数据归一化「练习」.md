---
title: 数据归一化「练习」
tags: []
id: '811'
categories:
  - - 数据分析练习题
date: 2020-08-16 12:36:36
---

### 数据归一化

*   使用 NumPy，下载 `iris.data` 数据集。仅提取 iris 数据集的第二列 `usecols = [1]`
    
*   做数据归一化处理
    

数据集链接：

*   本题数据集文件名称：**rating.txt**
*   本题数据链接：
    *   蓝奏云文件链接：[https://aiyc.lanzous.com/iaVCifnpl0j](https://aiyc.lanzous.com/iaVCifnpl0j)
    *   在线请求链接：[https://images-aiyc-1301641396.cos.ap-guangzhou.myqcloud.com/Data\_Analysis/iris.data](https://images-aiyc-1301641396.cos.ap-guangzhou.myqcloud.com/Data_Analysis/iris.data)
*   总数据表链接： [https://www.aiyc.top/data-analysis-data-set](https://www.aiyc.top/data-analysis-data-set)

题目解析：

1.  下载数据

使用 NumPy，下载 iris 数据集。仅提取 iris 数据集的第二列 `usecols = [1]`

```python
import numpy as np

url = 'https://images-aiyc-1301641396.cos.ap-guangzhou.myqcloud.com/Data_Analysis/iris.data'
wid = np.genfromtxt(url, delimiter=',', dtype='float', usecols=[1])
```

2.  展示数据

```python
array([3.5, 3. , 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3. ,
       3. , 4. , 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3. ,
       3.4, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.1, 3. ,
       3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3. , 3.8, 3.2, 3.7, 3.3, 3.2, 3.2,
       3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2. , 3. , 2.2, 2.9, 2.9,
       3.1, 3. , 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3. , 2.8, 3. ,
       2.9, 2.6, 2.4, 2.4, 2.7, 2.7, 3. , 3.4, 3.1, 2.3, 3. , 2.5, 2.6,
       3. , 2.6, 2.3, 2.7, 3. , 2.9, 2.9, 2.5, 2.8, 3.3, 2.7, 3. , 2.9,
       3. , 3. , 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3. , 2.5, 2.8, 3.2, 3. ,
       3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3. , 2.8, 3. ,
       2.8, 3.8, 2.8, 2.8, 2.6, 3. , 3.4, 3.1, 3. , 3.1, 3.1, 3.1, 2.7,
       3.2, 3.3, 3. , 2.5, 3. , 3.4, 3. ])
```

单变量（univariate），长度为 150 的一维 NumPy 数组。

3.  归一化

求出最大值、最小值：

```python
smax = np.max(wid)
smin = np.min(wid)

In [51]: smax,smin
Out[51]: (4.4, 2.0)
```

归一化公式：

```python
s = (wid - smin) / (smax - smin)
```

还有一个更简便的方法，使用 ptp 方法，它直接求出最大值与最小值的差：

```python
s = (wid - smin) / wid.ptp()
```

4.  NumPy 的打印设置

只打印小数点后三位的设置方法：

```python
np.set_printoptions(precision=3)  
```

归一化结果：

```python
array([0.625, 0.417, 0.5  , 0.458, 0.667, 0.792, 0.583, 0.583, 0.375,
       0.458, 0.708, 0.583, 0.417, 0.417, 0.833, 1.   , 0.792, 0.625,
       0.75 , 0.75 , 0.583, 0.708, 0.667, 0.542, 0.583, 0.417, 0.583,
       0.625, 0.583, 0.5  , 0.458, 0.583, 0.875, 0.917, 0.458, 0.5  ,
       0.625, 0.458, 0.417, 0.583, 0.625, 0.125, 0.5  , 0.625, 0.75 ,
       0.417, 0.75 , 0.5  , 0.708, 0.542, 0.5  , 0.5  , 0.458, 0.125,
       0.333, 0.333, 0.542, 0.167, 0.375, 0.292, 0.   , 0.417, 0.083,
       0.375, 0.375, 0.458, 0.417, 0.292, 0.083, 0.208, 0.5  , 0.333,
       0.208, 0.333, 0.375, 0.417, 0.333, 0.417, 0.375, 0.25 , 0.167,
       0.167, 0.292, 0.292, 0.417, 0.583, 0.458, 0.125, 0.417, 0.208,
       0.25 , 0.417, 0.25 , 0.125, 0.292, 0.417, 0.375, 0.375, 0.208,
       0.333, 0.542, 0.292, 0.417, 0.375, 0.417, 0.417, 0.208, 0.375,
       0.208, 0.667, 0.5  , 0.292, 0.417, 0.208, 0.333, 0.5  , 0.417,
       0.75 , 0.25 , 0.083, 0.5  , 0.333, 0.333, 0.292, 0.542, 0.5  ,
       0.333, 0.417, 0.333, 0.417, 0.333, 0.75 , 0.333, 0.333, 0.25 ,
       0.417, 0.583, 0.458, 0.417, 0.458, 0.458, 0.458, 0.292, 0.5  ,
       0.542, 0.417, 0.208, 0.417, 0.583, 0.417])
```

5.  分布可视化：

```python
import seaborn as sns
sns.distplot(s,kde=False,rug=True)
```

频率分布直方图： ![img](https://images-aiyc-1301641396.cos.ap-guangzhou.myqcloud.com/20200816130016.png)

```python
sns.distplot(s,hist=True,kde=True,rug=True)
```

带高斯密度核函数的直方图： ![img](https://images-aiyc-1301641396.cos.ap-guangzhou.myqcloud.com/20200816130019.png)